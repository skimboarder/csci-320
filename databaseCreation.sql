DROP TABLE IF EXISTS customization_options CASCADE; 
CREATE TABLE customization_options ( custom_id serial NOT NULL PRIMARY KEY, custom_name character varying(70) NOT NULL, cost integer NOT NULL );
DROP TABLE IF EXISTS features CASCADE; 
CREATE TABLE features ( feat_id serial NOT NULL PRIMARY KEY, feat_name character varying(70) NOT NULL );
DROP TABLE IF EXISTS customer CASCADE; 
CREATE TABLE customer ( cus_id serial NOT NULL PRIMARY KEY, name character varying(70) NOT NULL, ref_origin character varying(70) NOT NULL, ref_type character varying(70) NOT NULL );
DROP TABLE IF EXISTS employee CASCADE; 
CREATE TABLE employee ( emp_id integer NOT NULL PRIMARY KEY, emp_name character varying(70) NOT NULL, commission numeric(5,2) NOT NULL, CONSTRAINT value_is_percentage CHECK (((commission > (1)::numeric) AND (commission < (100)::numeric) )) );
DROP TABLE IF EXISTS trade_in CASCADE; 
CREATE TABLE trade_in ( trade_id serial NOT NULL PRIMARY KEY, vin integer NOT NULL, miles integer NOT NULL, condition character varying(250) NOT NULL, value money NOT NULL, date date NOT NULL );
DROP TABLE IF EXISTS financing CASCADE; 
CREATE TABLE financing ( fin_id serial NOT NULL PRIMARY KEY, amount money NOT NULL, type character varying(250) NOT NULL, name character varying(70) NOT NULL, addr character varying(100) NOT NULL );
DROP TABLE IF EXISTS payment CASCADE; 
CREATE TABLE payment ( payment_id serial NOT NULL PRIMARY KEY, amount money NOT NULL, trade_id integer NOT NULL REFERENCES trade_in(trade_id) ON DELETE CASCADE, fin_id integer NOT NULL REFERENCES financing(fin_id) ON DELETE CASCADE );
DROP TABLE IF EXISTS car CASCADE; 
CREATE TABLE car ( vin integer NOT NULL PRIMARY KEY, sticker_price money NOT NULL, make character varying(70) NOT NULL, model character varying(70) NOT NULL, year integer NOT NULL, color character varying(70) NOT NULL, is_new boolean NOT NULL, is_sold boolean NOT NULL, min_price money NOT NULL, mileage integer NOT NULL );
DROP TABLE IF EXISTS warranty CASCADE; 
CREATE TABLE warranty ( warranty_id serial NOT NULL PRIMARY KEY, type character varying(70) NOT NULL, cost money NOT NULL, duration integer NOT NULL, miles integer NOT NULL );
DROP TABLE IF EXISTS sale CASCADE; 
CREATE TABLE sale ( sale_id integer NOT NULL PRIMARY KEY, is_approved boolean NOT NULL, price money NOT NULL, date date NOT NULL, emp_requested boolean NOT NULL, tax_rate numeric(5,2) NOT NULL, license_fee money NOT NULL, cus_id integer NOT NULL REFERENCES customer(cus_id) ON DELETE CASCADE, vin integer NOT NULL REFERENCES car(vin) ON DELETE CASCADE, emp_id integer NOT NULL REFERENCES employee(emp_id) ON DELETE CASCADE, payment_id integer NOT NULL REFERENCES payment(payment_id) ON DELETE CASCADE, warranty_id integer NOT NULL REFERENCES warranty(warranty_id) ON DELETE CASCADE, CONSTRAINT value_is_percentage CHECK (((tax_rate > (1)::numeric) AND (tax_rate < (100)::numeric) )) );
DROP TABLE IF EXISTS has_features CASCADE; 
CREATE TABLE has_features ( feat_id integer NOT NULL REFERENCES features(feat_id) ON DELETE CASCADE, vin integer NOT NULL REFERENCES car(vin) ON DELETE CASCADE, PRIMARY KEY(feat_id, vin) );
DROP TABLE IF EXISTS has_customization CASCADE; 
CREATE TABLE has_customization ( custom_id integer NOT NULL REFERENCES customization_options(custom_id) ON DELETE CASCADE, sale_id integer NOT NULL REFERENCES sale(sale_id) ON DELETE CASCADE, PRIMARY KEY(custom_id, sale_id) );
INSERT INTO features (feat_id, feat_name) VALUES (0, 'AC');
INSERT INTO features (feat_id, feat_name) VALUES (1, 'Heated Seats');
INSERT INTO features (feat_id, feat_name) VALUES (2, 'Power Windows');
INSERT INTO features (feat_id, feat_name) VALUES (3, 'Sunroof');
INSERT INTO features (feat_id, feat_name) VALUES (4, 'Leather Seats');
INSERT INTO features (feat_id, feat_name) VALUES (5, 'Sirius XM Radio');
INSERT INTO customization_options (custom_id, custom_name, cost) VALUES (0, 'AC', 156);
INSERT INTO customization_options (custom_id, custom_name, cost) VALUES (1, 'Heated Seats', 251);
INSERT INTO customization_options (custom_id, custom_name, cost) VALUES (2, 'Power Windows', 370);
INSERT INTO customization_options (custom_id, custom_name, cost) VALUES (3, 'Sunroof', 429);
INSERT INTO customization_options (custom_id, custom_name, cost) VALUES (4, 'Leather Seats', 226);
INSERT INTO customization_options (custom_id, custom_name, cost) VALUES (5, 'Sirius XM Radio', 171);
INSERT INTO warranty (type, cost, duration, miles) VALUES ('Standard', 0, 60, 5000);
INSERT INTO warranty (type, cost, duration, miles) VALUES ('Extended', 100, 120, 10000);
INSERT INTO warranty (type, cost, duration, miles) VALUES ('Limited', 0, 30, 2000);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (632134, 14910, 'Ford', 'mustang', 1997, 'red', true, false, 0.3, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (417903, 9097, 'Ford', 'focus', 1997, 'red', true, false, 0.0, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (533454, 6364, 'Ford', 'fusion', 1997, 'black', true, false, 0.2, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (219480, 8176, 'Ford', 'taurus', 1997, 'red', true, false, 0.1, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (230784, 9481, 'Ford', 'mustang', 1998, 'silver', true, false, 0.4, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (296714, 9987, 'Ford', 'focus', 1998, 'silver', true, false, 0.0, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (422541, 17365, 'Ford', 'fusion', 1998, 'black', true, false, 0.4, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (854755, 18341, 'Ford', 'taurus', 1998, 'silver', true, false, 0.2, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (307760, 6008, 'Ford', 'mustang', 1999, 'silver', true, false, 0.2, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (430573, 10812, 'Ford', 'focus', 1999, 'black', true, false, 0.3, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (360240, 14684, 'Ford', 'fusion', 1999, 'silver', true, false, 0.2, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (788538, 13974, 'Ford', 'taurus', 1999, 'black', true, false, 0.0, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (767740, 9973, 'Ford', 'mustang', 2000, 'red', true, false, 0.2, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (453319, 6839, 'Ford', 'focus', 2000, 'black', true, false, 0.1, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (866831, 6954, 'Ford', 'fusion', 2000, 'silver', true, false, 0.0, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (844474, 8255, 'Ford', 'taurus', 2000, 'red', true, false, 0.4, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (911147, 7203, 'Ford', 'mustang', 2001, 'red', true, false, 0.0, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (687910, 10942, 'Ford', 'focus', 2001, 'black', true, false, 0.3, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (608063, 11866, 'Ford', 'fusion', 2001, 'silver', true, false, 0.0, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (930212, 16170, 'Ford', 'taurus', 2001, 'black', true, false, 0.0, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (311523, 16564, 'Ford', 'mustang', 2002, 'red', true, false, 0.2, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (394201, 10397, 'Ford', 'focus', 2002, 'silver', true, false, 0.4, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (407865, 15823, 'Ford', 'fusion', 2002, 'black', true, false, 0.4, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (344405, 18025, 'Ford', 'taurus', 2002, 'black', true, false, 0.2, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (883851, 7123, 'Ford', 'mustang', 2003, 'red', true, false, 0.0, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (655695, 11829, 'Ford', 'focus', 2003, 'black', true, false, 0.1, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (251345, 11803, 'Ford', 'fusion', 2003, 'red', true, false, 0.3, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (320939, 16951, 'Ford', 'taurus', 2003, 'black', true, false, 0.2, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (694698, 12443, 'Ford', 'mustang', 2004, 'silver', true, false, 0.1, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (259574, 19849, 'Ford', 'focus', 2004, 'silver', true, false, 0.4, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (408159, 5921, 'Ford', 'fusion', 2004, 'red', true, false, 0.4, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (874662, 15494, 'Ford', 'taurus', 2004, 'silver', true, false, 0.0, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (212709, 12229, 'Ford', 'mustang', 2005, 'silver', true, false, 0.1, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (626044, 5899, 'Ford', 'focus', 2005, 'red', true, false, 0.1, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (695417, 10994, 'Ford', 'fusion', 2005, 'red', true, false, 0.1, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (830979, 14984, 'Ford', 'taurus', 2005, 'black', true, false, 0.0, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (186499, 15829, 'Ford', 'mustang', 2006, 'red', true, false, 0.0, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (357328, 8590, 'Ford', 'focus', 2006, 'black', true, false, 0.3, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (386613, 6731, 'Ford', 'fusion', 2006, 'black', true, false, 0.0, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (472481, 10137, 'Ford', 'taurus', 2006, 'red', true, false, 0.4, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (672043, 9204, 'Ford', 'mustang', 2007, 'red', true, false, 0.0, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (777120, 12661, 'Ford', 'focus', 2007, 'silver', true, false, 0.2, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (425707, 9772, 'Ford', 'fusion', 2007, 'silver', true, false, 0.3, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (614207, 5619, 'Ford', 'taurus', 2007, 'red', true, false, 0.1, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (947876, 11582, 'Ford', 'mustang', 2008, 'black', true, false, 0.1, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (205372, 12362, 'Ford', 'focus', 2008, 'black', true, false, 0.0, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (845584, 7873, 'Ford', 'fusion', 2008, 'black', true, false, 0.4, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (429692, 11695, 'Ford', 'taurus', 2008, 'silver', true, false, 0.0, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (152467, 12117, 'Ford', 'mustang', 2009, 'silver', true, false, 0.2, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (642672, 7152, 'Ford', 'focus', 2009, 'red', true, false, 0.4, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (973627, 6796, 'Ford', 'fusion', 2009, 'red', true, false, 0.2, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (334069, 16578, 'Ford', 'taurus', 2009, 'black', true, false, 0.1, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (515104, 6475, 'Ford', 'mustang', 2010, 'red', true, false, 0.1, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (756589, 16640, 'Ford', 'focus', 2010, 'black', true, false, 0.3, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (534627, 5072, 'Ford', 'fusion', 2010, 'silver', true, false, 0.3, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (169961, 17509, 'Ford', 'taurus', 2010, 'black', true, false, 0.3, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (456464, 9027, 'Ford', 'mustang', 2011, 'black', true, false, 0.3, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (916864, 8422, 'Ford', 'focus', 2011, 'black', true, false, 0.1, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (255453, 14999, 'Ford', 'fusion', 2011, 'red', true, false, 0.1, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (322230, 17866, 'Ford', 'taurus', 2011, 'black', true, false, 0.0, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (299083, 6431, 'Ford', 'mustang', 2012, 'red', true, false, 0.2, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (179064, 9443, 'Ford', 'focus', 2012, 'black', true, false, 0.1, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (792738, 6059, 'Ford', 'fusion', 2012, 'red', true, false, 0.1, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (211420, 14973, 'Ford', 'taurus', 2012, 'silver', true, false, 0.1, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (996918, 15250, 'Ford', 'mustang', 2013, 'red', true, false, 0.0, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (289059, 16780, 'Ford', 'focus', 2013, 'silver', true, false, 0.1, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (911558, 16208, 'Ford', 'fusion', 2013, 'red', true, false, 0.2, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (204217, 17703, 'Ford', 'taurus', 2013, 'black', true, false, 0.3, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (227673, 14727, 'Ford', 'mustang', 2014, 'black', true, false, 0.3, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (102577, 17993, 'Ford', 'focus', 2014, 'silver', true, false, 0.2, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (978209, 9847, 'Ford', 'fusion', 2014, 'red', true, false, 0.0, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (970954, 8644, 'Ford', 'taurus', 2014, 'black', true, false, 0.3, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (729721, 19719, 'Ford', 'mustang', 2015, 'black', true, false, 0.0, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (495662, 19310, 'Ford', 'focus', 2015, 'red', true, false, 0.0, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (220521, 8699, 'Ford', 'fusion', 2015, 'silver', true, false, 0.0, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (257744, 12541, 'Ford', 'taurus', 2015, 'red', true, false, 0.0, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (209374, 13918, 'Ford', 'mustang', 2016, 'red', true, false, 0.1, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (271307, 19428, 'Ford', 'focus', 2016, 'silver', true, false, 0.1, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (809684, 7007, 'Ford', 'fusion', 2016, 'red', true, false, 0.2, 0);
INSERT INTO car (vin, sticker_price, make, model, year, color, is_new, is_sold, min_price, mileage) VALUES (884679, 10038, 'Ford', 'taurus', 2016, 'red', true, false, 0.0, 0);
